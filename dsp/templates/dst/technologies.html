{% extends "dst/base.html" %}
{% load i18n  %}
{% block inline_styles %}
{{ block.super }}

.tech {
	height:200px; 
	margin-left:auto; 
	margin-right:auto;
	width:100px;
	/*border-bottom:1px solid #ccc; */
	margin-bottom:30px;
}

.back_yes_img, #toggle_yes {
	background-color:#DCEDD0;
}


.back_maybe_img, #toggle_maybe {
	background-color:#FBF9CF;
}

.back_no_img, #toggle_no {
	background-color:#F6C8AB;
}

.back_na_img, #toggle_na {
	background-color:#C9C299;
}

.back_hide, #toggle_hide {
	/*display: none;*/
}

.back_hide_img {
	filter:alpha(opacity=20);
	-moz-opacity:0.2;
	-khtml-opacity: 0.2;
	opacity: 0.2;
}

.back_chosen_img, #toggle_chosen {
	background-color:#FF4400;
	background-color:#86A8E3;
	background-color:#EAF2F5
}

#toggles > a {
	padding:5px 10px;
	margin: 10px;
}

{% endblock inline_styles %}

{% block content %}
<div class="span-18" style="margin-bottom:30px;">
<a class="small" id="toggle_page_intro" style="margin-left:60px;">Toggle introduction</a>	
</div>

<div id="page_intro" class="push-1 span-16 append-1 first last" style="display:none;">
	<div class="frame" style="background-color:#EEF8FA">
		<div class="space15">
			<p class="small">
				Based on the information you have provided in Step 1, the table below indicates which technologies are appropriate for your situation. Red means not appropriate, Yellow means maybe appropriate, and green means appropriate. If you click on the icon of one of the options, you will see an explanation why the technology is appropriate or not. If you click on the name of the technology, a new window will open with the Akvopedia article on that technology.<br>
				<br>
				In this screen, you can explore the differerent technologies, and change the answers to the 9 questions by going back to the step 1. In the next step, only the green and yellow technologies are displayed, and you can start to build a system from these.
			</p>
		</div>
	</div>
</div>
<div style="text-align:center;">
	<p class="small" id="toggles">
		<a id="toggle_yes">Hide appropriate</a> 
		<a id="toggle_maybe">Hide maybe</a>
		<a id="toggle_no" >Hide not appropriate</a>
		<a id="toggle_na" >Hide not applicable</a>
	</p>
</div>
<hr />
    
<div class="span-18 first last" style="margin-bottom:0">
    {% for techgroup, techs in all_techs %}
        <div class="span-3 {% if forloop.first %}first{% endif %} {% if forloop.last %}last{% endif %}" style="text-align:center;">
			<div id="name" style="border-bottom:1px solid #F4F4F4; margin-bottom:40px; ">
            	<p style="font-weight:bold;display:block;height:40px;">{{ techgroup }}</p>				
			</div>

        {% for tech in techs %}
            <div class="tech">
                <div class="back_{{tech.usable}}">
					<p style="margin-top:5px;display:block; height:25px;"><a class="fancy" href="{% url technologies_help tech.id %}">{{ tech }}</a></p>
                    <div class="back_{{tech.usable}}_img" style="margin-bottom:15px;">
						<a class="fancy" href="{% url technologies_help tech.id %}">
                        	<img src="{{ MEDIA_URL}}{{ tech.image }}" width="100px" height="100px" />
						</a>
						<br />
                    </div>
                    {% ifnotequal tech.usable 'no' %}
						{% ifnotequal tech.usable 'hide' %}
							<a class="aqua awesome small" href="{% url tech_choice tech.id %}">{% trans 'Select' %}</a>
						{% endifnotequal %}
					{% endifnotequal %}
					{% comment %}
					<a class="grey awesome small" href="#">{% trans 'Select' %}</a>						
					{% endcomment %}
                </div>
            </div>
        {% endfor %}
        </div>
    {% endfor %}

</div>


<div class="clear"></div>
<hr style="margin-top:20px" />

<div class="push-1 span-16 append-1 first last">
	<p style="text-align:center;">
		<a class="grey awesome" style="margin-right:10px;" href="{% url factors %}">{% trans '&larr; Back' %}</a>
		<a class="aqua awesome" href="{% url solution %}" onclick="this.blur();" style="margin-left:10px;">{% trans 'Continue &rarr;' %}</a>
	</p>
</div>

{% endblock content %}

{% block js %}
{{block.super}}
<script type="text/javascript" src="{{MEDIA_URL}}fancybox/fancybox.js"></script>
{% endblock js %}


{% block jquery_ready %}
{{block.super}}

// jQ('.back_hide_img').fadeTo("slow", 0.3);
// jQ('.hide_select').attr ('href', '#').click(function() { return false; }).fadeTo("slow", 0.3);


jQ('#toggle_yes').click(function () {
	jQ(this).html( (jQ('.back_yes').is(":visible") ? 'Show' : 'Hide') + ' appropriate');
	jQ('.back_yes').is(":visible") ? jQ('.back_yes').fadeOut("slow") : jQ('.back_yes').fadeIn("slow");
});

jQ('#toggle_maybe').click(function () {
	jQ(this).html( (jQ('.back_maybe').is(":visible") ? 'Show' : 'Hide') + ' maybe');
	jQ('.back_maybe').is(":visible") ? jQ('.back_maybe').fadeOut("slow") : jQ('.back_maybe').fadeIn("slow");
});

jQ('#toggle_no').click(function () {
	jQ(this).html( (jQ('.back_no').is(":visible") ? 'Show' : 'Hide') + ' not appropriate');
	jQ('.back_no').is(":visible") ? jQ('.back_no').fadeOut("slow") : jQ('.back_no').fadeIn("slow");
});

jQ('#toggle_na').click(function () {
	jQ(this).html( (jQ('.back_na').is(":visible") ? 'Show' : 'Hide') + ' not applicable');
	jQ('.back_na').is(":visible") ? jQ('.back_na').fadeOut("slow") : jQ('.back_na').fadeIn("slow");	
});

jQ('#toggle_page_intro').click(function() {
	jQ('#page_intro').is(":visible") ? jQ('#page_intro').fadeOut("slow") : jQ('#page_intro').fadeIn("slow");	
});

jQ("a.fancy").fancybox();
{% endblock jquery_ready %}	
